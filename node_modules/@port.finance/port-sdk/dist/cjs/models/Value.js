"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Value = void 0;
const basic_1 = require("./basic");
const Asset_1 = require("./Asset");
class Value extends basic_1.Decimal {
    constructor(raw) {
        super(raw);
    }
    toAsset(price, context) {
        const lamport = basic_1.Lamport.of(this.raw.div(price.getRaw()).mul(context.multiplier));
        return Asset_1.Asset.of(price.getMintId(), lamport);
    }
    toNumber() {
        return this.raw.round(2, 0).toNumber();
    }
    print() {
        return Value.FORMATTER.format(this.toNumber());
    }
    toString() {
        return this.print();
    }
}
exports.Value = Value;
// eslint-disable-next-line new-cap
Value.FORMATTER = Intl.NumberFormat("en-US", {
    style: "currency",
    currency: "USD",
});
//# sourceMappingURL=Value.js.map