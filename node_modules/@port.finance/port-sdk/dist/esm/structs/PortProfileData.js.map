{"version":3,"file":"PortProfileData.js","sourceRoot":"","sources":["../../../src/structs/PortProfileData.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,kBAAkB,CAAC;AAC1C,OAAO,EAAE,UAAU,EAAE,MAAM,sBAAsB,CAAC;AAClD,OAAO,EAAE,QAAQ,EAAE,MAAM,oBAAoB,CAAC;AAC9C,OAAO,EAAY,cAAc,EAAE,MAAM,YAAY,CAAC;AACtD,OAAO,KAAK,YAAY,MAAM,uBAAuB,CAAC;AACtD,OAAO,KAAK,MAAM,MAAM,yBAAyB,CAAC;AAClD,OAAO,EAAE,SAAS,EAAE,MAAM,qBAAqB,CAAC;AAChD,OAAO,EAAE,OAAO,EAAE,MAAM,iBAAiB,CAAC;AAC1C,OAAO,EAAE,OAAO,EAAE,MAAM,0BAA0B,CAAC;AACnD,OAAO,EAAE,YAAY,EAAE,MAAM,wBAAwB,CAAC;AAGtD,MAAM,CAAC,MAAM,gBAAgB,GAAG,YAAY,CAAC,MAAM,CAAC;IAClD,YAAY,CAAC,EAAE,CAAC,SAAS,CAAC;IAC1B,mCAAmC;IACnC,cAAc,CAAC,YAAY,CAAC;IAC5B,MAAM,CAAC,SAAS,CAAC,eAAe,CAAC;IACjC,QAAQ,CAAC,KAAK,CAAC,OAAO,CAAC;IACvB,UAAU,CAAC,KAAK,CAAC,gBAAgB,CAAC;IAClC,MAAM,CAAC,KAAK,CAAC,eAAe,CAAC;IAC7B,MAAM,CAAC,KAAK,CAAC,oBAAoB,CAAC;IAClC,MAAM,CAAC,KAAK,CAAC,sBAAsB,CAAC;IAEpC,YAAY,CAAC,EAAE,CAAC,aAAa,CAAC;IAC9B,YAAY,CAAC,EAAE,CAAC,YAAY,CAAC;IAC7B,YAAY,CAAC,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC;CACnC,CAAC,CAAC;AAEH,MAAM,CAAC,MAAM,0BAA0B,GAAG,YAAY,CAAC,MAAM,CAAC;IAC5D,SAAS,CAAC,KAAK,CAAC,gBAAgB,CAAC;IACjC,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,EAAE,iBAAiB,CAAC;IAC7C,UAAU,CAAC,KAAK,CAAC,aAAa,CAAC;CAChC,CAAC,CAAC;AAEH,MAAM,CAAC,MAAM,yBAAyB,GAAG,YAAY,CAAC,MAAM,CAAC;IAC3D,SAAS,CAAC,KAAK,CAAC,eAAe,CAAC;IAChC,YAAY,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,EAAE,0BAA0B,CAAC;IAC5D,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,EAAE,oBAAoB,CAAC;IACjD,UAAU,CAAC,KAAK,CAAC,aAAa,CAAC;CAChC,CAAC,CAAC;AA0CH,MAAM,CAAC,MAAM,sBAAsB,GAAG,gBAAgB,CAAC,IAAI,CAAC","sourcesContent":["import { Margin } from \"../models/Margin\";\nimport { QuoteValue } from \"../models/QuoteValue\";\nimport { WalletId } from \"../models/WalletId\";\nimport { SlotInfo, SlotInfoLayout } from \"./SlotInfo\";\nimport * as BufferLayout from \"@solana/buffer-layout\";\nimport * as Layout from \"../serialization/layout\";\nimport { ReserveId } from \"../models/ReserveId\";\nimport { Lamport } from \"../models/basic\";\nimport { BigType } from \"../serialization/BigType\";\nimport { ExchangeRate } from \"../models/ExchangeRate\";\nimport { PublicKey } from \"@solana/web3.js\";\n\nexport const ObligationLayout = BufferLayout.struct([\n  BufferLayout.u8(\"version\"),\n  // eslint-disable-next-line new-cap\n  SlotInfoLayout(\"lastUpdate\"),\n  Layout.publicKey(\"lendingMarket\"),\n  WalletId.field(\"owner\"),\n  QuoteValue.field(\"depositedValue\"),\n  Margin.field(\"borrowedValue\"),\n  Margin.field(\"allowedBorrowValue\"),\n  Margin.field(\"unhealthyBorrowValue\"),\n\n  BufferLayout.u8(\"depositsLen\"),\n  BufferLayout.u8(\"borrowsLen\"),\n  BufferLayout.blob(776, \"dataFlat\"),\n]);\n\nexport const ObligationCollateralLayout = BufferLayout.struct([\n  ReserveId.field(\"depositReserve\"),\n  Lamport.field(BigType.U64, \"depositedAmount\"),\n  QuoteValue.field(\"marketValue\"),\n]);\n\nexport const ObligationLiquidityLayout = BufferLayout.struct([\n  ReserveId.field(\"borrowReserve\"),\n  ExchangeRate.field(BigType.D128, \"cumulativeBorrowRateWads\"),\n  Lamport.field(BigType.D128, \"borrowedAmountWads\"),\n  QuoteValue.field(\"marketValue\"),\n]);\n\nexport interface ProtoObligation {\n  version: number;\n  lastUpdate: SlotInfo;\n  lendingMarket: PublicKey;\n  owner: WalletId;\n  depositedValue: QuoteValue;\n  borrowedValue: Margin;\n  allowedBorrowValue: Margin;\n  unhealthyBorrowValue: Margin;\n  depositsLen: number;\n  borrowsLen: number;\n  dataFlat: Buffer;\n}\n\nexport interface PortProfileData {\n  version: number;\n  lastUpdate: SlotInfo;\n  lendingMarket: PublicKey;\n  owner: PublicKey;\n  deposits: PortProfileCollateralData[];\n  borrows: PortProfileLoanData[];\n  depositedValue: QuoteValue;\n  borrowedValue: Margin;\n  allowedBorrowValue: Margin;\n  unhealthyBorrowValue: Margin;\n}\n\nexport interface PortProfileCollateralData {\n  depositReserve: ReserveId;\n  depositedAmount: Lamport;\n  marketValue: QuoteValue;\n}\n\nexport interface PortProfileLoanData {\n  borrowReserve: ReserveId;\n  cumulativeBorrowRateWads: ExchangeRate;\n  borrowedAmountWads: Lamport;\n  marketValue: QuoteValue;\n}\n\nexport const PORT_PROFILE_DATA_SIZE = ObligationLayout.span;\n"]}