/// <reference types="bn.js" />
import { BN } from '@project-serum/anchor';
import { PublicKey, Connection, Transaction, Cluster } from '@solana/web3.js';
import { TokenInfo } from '@solana/spl-token-registry';
import { AffiliateInfo, VaultImplementation, VaultState } from './types';
export default class VaultImpl implements VaultImplementation {
    private connection;
    private cluster;
    private program;
    private affiliateId;
    private affiliateProgram;
    tokenInfo: TokenInfo;
    vaultPda: PublicKey;
    tokenVaultPda: PublicKey;
    vaultState: VaultState;
    lpSupply: BN;
    private constructor();
    static create(connection: Connection, tokenInfo: TokenInfo, opt?: {
        cluster?: Cluster;
        programId?: string;
        affiliateId?: PublicKey;
        affiliateProgramId?: string;
    }): Promise<VaultImpl>;
    getUserBalance(owner: PublicKey): Promise<BN>;
    /** To refetch the latest lpSupply */
    /** Use vaultImpl.lpSupply to use cached result */
    getVaultSupply(): Promise<BN>;
    getWithdrawableAmount(): Promise<BN>;
    refreshVaultState(): Promise<void>;
    private createATAPreInstructions;
    private createAffiliateATAPreInstructions;
    deposit(owner: PublicKey, baseTokenAmount: BN): Promise<Transaction>;
    private getStrategyWithHighestLiquidity;
    withdraw(owner: PublicKey, baseTokenAmount: BN, opt?: {
        strategy?: PublicKey;
    }): Promise<Transaction>;
    private withdrawFromVaultReserve;
    getAffiliateInfo(): Promise<AffiliateInfo>;
}
//# sourceMappingURL=index.d.ts.map