"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.getStrategyHandler = exports.getStrategyType = void 0;
const constants_1 = require("../constants");
const apricotWithoutLM_1 = __importDefault(require("./apricotWithoutLM"));
const francium_1 = __importDefault(require("./francium"));
const mango_1 = __importDefault(require("./mango"));
const portWithLM_1 = __importDefault(require("./portWithLM"));
const portWithoutLM_1 = __importDefault(require("./portWithoutLM"));
const solendWithLM_1 = __importDefault(require("./solendWithLM"));
const solendWithoutLM_1 = __importDefault(require("./solendWithoutLM"));
const vault_1 = __importDefault(require("./vault"));
const getStrategyType = (strategyResponse) => {
    return Object.keys(strategyResponse)[0];
};
exports.getStrategyType = getStrategyType;
const getStrategyHandler = (strategyType, cluster, connection) => {
    const strategyProgramAddresses = constants_1.StrategyProgram[cluster !== null && cluster !== void 0 ? cluster : 'mainnet-beta'];
    switch (strategyType) {
        case 'solendWithoutLm':
            return new solendWithoutLM_1.default(strategyProgramAddresses.solend);
        case 'solendWithLm':
            return new solendWithLM_1.default(strategyProgramAddresses.solend);
        case 'portFinanceWithoutLm':
            return new portWithoutLM_1.default(strategyProgramAddresses.portFinance);
        case 'portFinanceWithLm':
            return new portWithLM_1.default(strategyProgramAddresses.portFinance);
        case 'francium':
            return new francium_1.default(connection);
        case 'apricotWithoutLM':
            return new apricotWithoutLM_1.default();
        case 'mango':
            return new mango_1.default();
        case 'vault':
            return new vault_1.default();
        default:
            return null;
    }
};
exports.getStrategyHandler = getStrategyHandler;
